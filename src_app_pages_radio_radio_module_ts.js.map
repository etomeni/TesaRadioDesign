{"version":3,"file":"src_app_pages_radio_radio_module_ts.js","mappings":"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","sources":["./src/app/pages/radio/radio-routing.module.ts","./src/app/pages/radio/radio.module.ts","./src/app/pages/radio/radio.page.ts","./src/app/pages/radio/radio.page.html"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RadioPage } from './radio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RadioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RadioPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RadioPageRoutingModule } from './radio-routing.module';\n\nimport { RadioPage } from './radio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RadioPageRoutingModule\n  ],\n  declarations: [RadioPage]\n})\nexport class RadioPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { ToastController } from '@ionic/angular';\nimport { interval } from 'rxjs';\nimport { LiveRadioService } from 'src/app/services/live-radio.service';\nimport { PodcastService } from 'src/app/services/podcast.service';\nimport { ShowsService } from 'src/app/services/shows.service';\nimport { StorageService } from 'src/app/services/storage.service';\n\n@Component({\n  selector: 'app-radio',\n  templateUrl: './radio.page.html',\n  styleUrls: ['./radio.page.scss'],\n})\nexport class RadioPage implements OnInit {\n\n  loadingReadyState: boolean = true;\n  timeout: boolean = false;\n\n  constructor(\n    private StorageService: StorageService,\n    private radioService: LiveRadioService,\n    private ShowsService: ShowsService,\n    private PodcastService: PodcastService,\n    private ToastController: ToastController,\n  ) { }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.timeout = true;\n    }, 20000);\n\n    interval(500).subscribe((func => {\n      if (this.loadingReadyState) {\n        document.getElementById(\"play-BTN\").style.display = \"none\";\n        document.getElementById(\"pause-BTN\").style.display = \"none\";\n\n        if (this.radioService.TesaRadio.readyState > 1 || this.timeout) {\n          this.loadingReadyState = false;\n          document.getElementById(\"play-BTN\").style.display = \"block\";\n          if (this.timeout) {\n            this.presentToast(\"Unable to Load Radio :-(\");\n            // console.log(\"second timeout\");\n          }\n          if (this.radioService.TesaRadio.readyState) {\n            setTimeout(() => {\n              this.playRadio();\n            }, 2000);\n          }\n        }\n      } \n\n      this.StorageService.get(\"outsideRadio\").then(res => {\n        let response: any = res;\n        if (response.pauseFrmOutside && response.Status == \"radio\") {\n          this.pauseRadio();\n          this.StorageService.removeItem(\"outsideRadio\");\n        }\n      })\n\n    }));\n\n  }\n\n  async playRadio() {\n    let playingRes: any = await this.StorageService.get(\"playing\");\n\n    if (playingRes.Status == \"played\" && playingRes.PlayingMedia == \"podcast\") {\n      this.PodcastService.pause(playingRes.podcastsID);\n      this.radioService.playRadio(this.timeout);\n    } else if (playingRes.Status == \"played\" && playingRes.PlayingMedia == \"show\") {\n      this.ShowsService.pause(playingRes.showsID);\n      this.radioService.playRadio(this.timeout);\n    } else {\n      this.radioService.playRadio(this.timeout);\n    }\n  }\n\n  pauseRadio() {\n    this.StorageService.get(\"playing\").then(res => {\n      let response: any = res;\n      if (response.PlayingMedia == \"radio\" && response.Status == \"played\") {\n        this.StorageService.removeItem(\"playing\");\n      } \n    });\n\n    this.radioService.pauseRadio();\n  }\n\n  doRefresh(event) {\n    window.location.reload();\n    // this.router.navigate(['radio']);\n    // this.ngOnInit();\n\n    setTimeout(() => {\n      event.target.complete();\n    }, 500);\n  }\n\n  async presentToast(message) {\n    const toast = await this.ToastController.create({\n      message: message,\n      duration: 5000,\n      // position: 'top' | 'bottom' | 'middle',\n    });\n    toast.present();\n  }\n\n  async presentToastWithOptions() {\n    const toast = await this.ToastController.create({\n      header: 'Toast header',\n      message: 'Click to Close',\n      icon: 'information-circle',\n      position: 'top',\n      buttons: [\n        {\n          side: 'start',\n          icon: 'star',\n          text: 'Favorite',\n          handler: () => {\n            console.log('Favorite clicked');\n          }\n        }, {\n          text: 'Done',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    await toast.present();\n\n    const { role } = await toast.onDidDismiss();\n    console.log('onDidDismiss resolved with role', role);\n  }\n\n}","export default \"<ion-header [translucent]=\\\"false\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <h1 style=\\\"margin: 0; padding-left: 10px;\\\">\\n      <span style=\\\"color: #de2341;\\\">Tesa </span> <span style=\\\"color: white;\\\">Radio</span>\\n    </h1>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-menu-button menu=\\\"main-menu\\\" style=\\\"color: white;\\\"></ion-menu-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<!-- <ion-content [fullscreen]=\\\"true\\\">\\n\\n  <iframe src=\\\"https://tesamedia.com/radio/inframe-radio\\\" id=\\\"inframe\\\" style=\\\"border:none; height: 100vh; width: 100%;\\\" frameborder=\\\"0\\\"></iframe>\\n  \\n</ion-content> -->\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <!-- Do ReFresh -->\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n  <!-- <div *ngIf=\\\"webPlatform\\\"> -->\\n    <!-- <i *ngIf=\\\"iframeLoader\\\" class=\\\"iframe-loader\\\"></i> -->\\n\\n    <!-- <iframe src=\\\"https://tesamedia.com/radio/inframe-radio\\\" id=\\\"inframe\\\" style=\\\"border:none; height: 100vh; width: 100%;\\\" frameborder=\\\"0\\\"></iframe> -->\\n\\n  <!-- </div> -->\\n\\n  <!-- <div *ngIf=\\\"!webPlatform\\\"> -->\\n\\n    <div id=\\\"container\\\">\\n\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col style=\\\"display: flex; justify-content: center;\\\">\\n            \\n            <div style=\\\"height: 250px; width: 250px;\\\">\\n\\n              <div class=\\\"tesacolor\\\">\\n                <div class=\\\"transparent\\\">\\n                    <div class=\\\"whitecolor\\\">\\n\\n                      <ion-icon name=\\\"play\\\" class=\\\"radio-BTN\\\" id=\\\"play-BTN\\\" (click)=\\\"playRadio()\\\"></ion-icon>\\n                      <ion-icon name=\\\"pause\\\" class=\\\"radio-BTN\\\" id=\\\"pause-BTN\\\" style=\\\"display: none;\\\" (click)=\\\"pauseRadio()\\\"></ion-icon>\\n                      <ion-icon name=\\\"refresh-circle\\\" class=\\\"radio-BTN loader\\\" id=\\\"loadingIcon\\\" *ngIf=\\\"loadingReadyState\\\"></ion-icon>\\n                      \\n                    </div>\\n                </div>\\n              </div>\\n\\n            </div>\\n\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n    </div>\\n\\n    <div style=\\\"position: absolute; bottom: 0; left: 0; right: 0;\\\" >\\n\\n      <ion-grid>\\n        <ion-row id=\\\"wave\\\" style=\\\"margin-top: 50px; display: none;\\\">\\n          <ion-col style=\\\"display: flex; justify-content: center;\\\">\\n\\n            <span class=\\\"playing\\\">\\n              <span class=\\\"playing__bar playing__bar1\\\"></span>\\n              <span class=\\\"playing__bar playing__bar2\\\"></span>\\n              <span class=\\\"playing__bar playing__bar3\\\"></span>\\n            </span>\\n            <span class=\\\"playing\\\" style=\\\"padding: 0 .3rem;\\\">\\n                <span class=\\\"playing__bar playing__bar1\\\"></span>\\n                <span class=\\\"playing__bar playing__bar2\\\"></span>\\n                <span class=\\\"playing__bar playing__bar3\\\"></span>\\n            </span>\\n            <span class=\\\"playing\\\">\\n                <span class=\\\"playing__bar playing__bar1\\\"></span>\\n                <span class=\\\"playing__bar playing__bar2\\\"></span>\\n                <span class=\\\"playing__bar playing__bar3\\\"></span>\\n            </span>\\n\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n\\n    </div>\\n\\n  <!-- </div> -->\\n \\n</ion-content>\";"],"names":[],"sourceRoot":"webpack:///"}